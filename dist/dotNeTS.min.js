var dotNeTS;!function(a){var b=function(){function a(a,b){this.message=b,this.name=a}return a.prototype.toString=function(){return this.name+" was unhandled by user code. Additional information: "+this.message},a}();a.Exception=b}(dotNeTS||(dotNeTS={}));var dotNeTS;!function(a){function b(b){return new a.List(b)}a.createList=b}(dotNeTS||(dotNeTS={}));var dotNeTS;!function(a){var b=function(){function b(a){this.innerArray=a}return b.prototype.getEvaluatedCollection=function(){return this.currentCollection},Object.defineProperty(b.prototype,"innerArray",{get:function(){return this.currentCollection||(this.innerArray=new Array),this.getEvaluatedCollection()},set:function(a){this.currentCollection=a},enumerable:!0,configurable:!0}),b.prototype.GroupBy=function(b){var c=new a.List;return this.ForEach(function(d,e,f){var g=!1,h=b(d,e,f);c.ForEach(function(a){return a.Key===h?(a.Add(d),g=!0,!1):void 0}),g||c.Add(new a.Grouping(h,[d]))}),c},b.prototype.ElementAt=function(b){if(b>=this.Count())throw new a.ArgumentOutOfRangeException("Index was out of range. Must be non-negative and less than the size of the collection.");return this.innerArray[b]},b.prototype.ElementAtOrDefault=function(a){return this.innerArray&&this.Count()>a?this.innerArray[a]:null},b.prototype.ForEach=function(a){_.forEach(this.innerArray,a)},b.prototype.Contains=function(a){return _.contains(this.innerArray,a)},b.prototype.OrderBy=function(b){var c=new a.OrderedEnumerable(this);return c.OrderBy(b)},b.prototype.OrderByDecending=function(b){var c=new a.OrderedEnumerable(this);return c.OrderByDecending(b)},b.prototype.First=function(b){if(!this.Any())throw new a.InvalidOperationException("Sequence contains no elements");var c=this.FirstOrDefault(b);if(!c)throw new a.InvalidOperationException("Sequence contains no matching element");return c},b.prototype.FirstOrDefault=function(a){if(!this.Any())return null;if(a){var b=_.find(this.innerArray,a);return b?b:null}return this.innerArray[0]||null},b.prototype.Single=function(b){if(!this.Any())throw new a.InvalidOperationException("Sequence contains no elements");if(b){var c=_.where(this.innerArray,b),d=c.length;if(0===d)throw new a.InvalidOperationException("Sequence contains no matching elements");if(d>1)throw new a.InvalidOperationException("Sequence contains more than one matching element");return c[0]}if(this.innerArray.length>1)throw new a.InvalidOperationException("Sequence contains more than one matching element");return this.innerArray[0]||null},b.prototype.SingleOrDefault=function(a){if(!this.Any())return null;if(a){var b=_.where(this.innerArray,a),c=b.length;return 0===c?null:c>1?null:b[0]}return this.innerArray.length>1?null:this.innerArray[0]||null},b.prototype.Any=function(a){return a?_.any(this.innerArray,a):this.Count()>0},b.prototype.Count=function(a){return a?_.where(this.innerArray,a).length:this.innerArray.length},b.prototype.Select=function(a){return new b(_.map(this.innerArray,a))},b.prototype.Where=function(a){return new b(_.where(this.innerArray,a))},b.prototype.ToArray=function(){return this.innerArray},b.prototype.ToList=function(){return new a.List(this.innerArray)},b.prototype.Dispose=function(){delete this.currentCollection},b}();a.Enumerable=b}(dotNeTS||(dotNeTS={}));var __extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},dotNeTS;!function(a){var b=function(a){function b(b){a.call(this,b)}return __extends(b,a),b.prototype.Add=function(a){this.innerArray.push(a)},b.prototype.AddRange=function(a){var b=this;a.ForEach(function(a){return b.Add(a)})},b.prototype.Remove=function(a){this.innerArray=_.without(this.innerArray,a)},b.prototype.ReplaceWith=function(a,b){var c=this,d=_.where(this.innerArray,function(c,d,e){return b(a,c,d,e)});_.forEach(d,function(b){var d=c.IndexOf(b);-1!==d&&(c.innerArray[d]=a)})},b.prototype.RemoveAt=function(){},b.prototype.Clear=function(){},b.prototype.IndexOf=function(a){return this.innerArray.indexOf(a)},b.prototype.Insert=function(a){for(var b=[],c=0;c<arguments.length-1;c++)b[c]=arguments[c+1];var d=[a,0];Array.prototype.push.apply(d,Array.prototype.slice.call(arguments,1)),Array.prototype.splice.apply(this.innerArray,d)},b.prototype.Dispose=function(){a.prototype.Dispose.call(this)},b}(a.Enumerable);a.List=b}(dotNeTS||(dotNeTS={}));var dotNeTS;!function(a){var b=function(a){function b(b,c){a.call(this,c),this.Key=b}return __extends(b,a),b}(a.List);a.Grouping=b}(dotNeTS||(dotNeTS={}));var dotNeTS;!function(a){var b=function(a){function b(b){a.call(this,b.currentCollection)}return __extends(b,a),b.prototype.getEvaluatedCollection=function(){return this.sortExpressions?this.EvaluateOrderBy():this.currentCollection},b.prototype.AddLazyOrderInternal=function(a,b){this.sortExpressions||(this.sortExpressions=new Array),this.sortExpressions.push({expression:a,sortOrder:b})},b.prototype.OrderBy=function(a){return this.sortExpressions=void 0,this.AddLazyOrderInternal(a,0),this},b.prototype.OrderByDecending=function(a){return this.sortExpressions=void 0,this.AddLazyOrderInternal(a,1),this},b.prototype.ThenBy=function(a){var c=new b(this);return c.sortExpressions=_.clone(this.sortExpressions),c.AddLazyOrderInternal(a,0),c},b.prototype.ThenByDecending=function(a){var c=new b(this);return c.sortExpressions=_.clone(this.sortExpressions),c.AddLazyOrderInternal(a,1),c},b.prototype.EvaluateOrderBy=function(){var a=this;return this.currentCollection.sort(function(b,c){var d=0;return _.forEach(a.sortExpressions,function(a){var e=a.sortOrder,f=a.expression.call(this,b),g=a.expression.call(this,c);return f>g?(d=0===e?1:-1,!1):g>f?(d=0===e?-1:1,!1):void 0}),d}),this.currentCollection},b.prototype.Dispose=function(){delete this.sortExpressions,a.prototype.Dispose.call(this)},b}(a.Enumerable);a.OrderedEnumerable=b}(dotNeTS||(dotNeTS={}));var dotNeTS;!function(a){!function(a){a[a.ASC=0]="ASC",a[a.DESC=1]="DESC"}(a.SortOrder||(a.SortOrder={}));a.SortOrder}(dotNeTS||(dotNeTS={}));var dotNeTS;!function(a){var b=function(a){function b(b){a.call(this,"ArgumentOutOfRangeException",b)}return __extends(b,a),b}(a.Exception);a.ArgumentOutOfRangeException=b}(dotNeTS||(dotNeTS={}));var dotNeTS;!function(a){var b=function(a){function b(b){a.call(this,"InvalidOperationException",b)}return __extends(b,a),b}(a.Exception);a.InvalidOperationException=b}(dotNeTS||(dotNeTS={}));